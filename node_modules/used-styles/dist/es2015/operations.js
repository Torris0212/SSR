import { __assign } from "tslib";
import { pruneSelector } from './operations/prune-selector';
import { assertIsReady } from './utils/async';
export var alterProjectStyles = function (def, options) {
    assertIsReady(def);
    return __assign(__assign({}, def), { ast: Object.keys(def.ast).reduce(function (acc, file) {
            var astFile = def.ast[file];
            var shouldRemove = options.filter && !options.filter(file);
            if (shouldRemove) {
                return acc;
            }
            acc[file] = options.pruneSelector ? pruneSelector(astFile, options.pruneSelector) : astFile;
            return acc;
        }, {}) });
};
